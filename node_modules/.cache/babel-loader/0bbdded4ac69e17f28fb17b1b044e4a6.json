{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\practiceapp1\\\\src\\\\Articles.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport firebase from './firebase.js';\nimport AllArticles from './AllArticles';\nimport NewArticle from './NewArticle';\nimport UserArticle from './UserArticle'; //import App from './App'\n//import Mainpage from './Mainpage'\n//import {Link} from 'react-router-dom'\n\nclass Articles extends Component {\n  constructor(props) {\n    super(props);\n    this.uid = props.uid;\n    this.state = {\n      postinfo: [],\n      uid: '',\n      name: ''\n    };\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user != null) {\n        this.name = user.displayName;\n        this.uid = user.uid;\n      } else {\n        this.name = \"Unknown\";\n      }\n    });\n    let newState = [];\n    const db = firebase.database();\n    const postdata = db.ref('posts/5WTiHMxqKwMb6PxXDcyAG66q3Pz2');\n    postdata.on('value', snapshot => {\n      let posts = snapshot.val();\n\n      for (let post in posts) {\n        newState.push({\n          id: post,\n          title: posts[post].title,\n          text: posts[post].text\n        });\n      }\n\n      this.setState({\n        postinfo: newState\n      });\n    });\n  }\n\n  render() {\n    {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, this.uid), this.state.postinfo.map(postinfo => {\n        return /*#__PURE__*/React.createElement(UserArticle, {\n          id: postinfo.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }\n        });\n      }));\n    }\n  }\n\n}\n/*class Articles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n\r\n\r\n  logout() {\r\n    firebase.auth().signOut();\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Articles</h1>\r\n        <button onClick={this.logout}>Logout</button>\r\n        <Singlearticle />\r\n        <NewArticle />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n*/\n\n/*function Articles() {\r\n  return (\r\n    <div>\r\n      <h1>Articles</h1>\r\n    </div>\r\n  );\r\n}*/\n\n\nexport default Articles;","map":{"version":3,"sources":["C:/Users/User/Desktop/practiceapp1/src/Articles.js"],"names":["React","Component","firebase","AllArticles","NewArticle","UserArticle","Articles","constructor","props","uid","state","postinfo","name","componentDidMount","auth","onAuthStateChanged","user","displayName","newState","db","database","postdata","ref","on","snapshot","posts","val","post","push","id","title","text","setState","render","map"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB,C,CACA;AACA;AACA;;AAEA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAC/BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,GAAL,GAAWD,KAAK,CAACC,GAAjB;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETF,MAAAA,GAAG,EAAE,EAFI;AAGTG,MAAAA,IAAI,EAAE;AAHG,KAAb;AAMH;;AAGDC,EAAAA,iBAAiB,GAAG;AAElBX,IAAAA,QAAQ,CAACY,IAAT,GAAgBC,kBAAhB,CAAmC,UAASC,IAAT,EAAe;AAChD,UAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,aAAKJ,IAAL,GAAYI,IAAI,CAACC,WAAjB;AACA,aAAKR,GAAL,GAAWO,IAAI,CAACP,GAAhB;AACD,OAHD,MAGO;AACL,aAAKG,IAAL,GAAY,SAAZ;AACD;AACF,KAPD;AASE,QAAIM,QAAQ,GAAG,EAAf;AACA,UAAMC,EAAE,GAAGjB,QAAQ,CAACkB,QAAT,EAAX;AACA,UAAMC,QAAQ,GAAGF,EAAE,CAACG,GAAH,CAAO,oCAAP,CAAjB;AAEAD,IAAAA,QAAQ,CAACE,EAAT,CAAY,OAAZ,EAAsBC,QAAD,IACrB;AACI,UAAIC,KAAK,GAAGD,QAAQ,CAACE,GAAT,EAAZ;;AACA,WAAI,IAAIC,IAAR,IAAgBF,KAAhB,EACA;AACIP,QAAAA,QAAQ,CAACU,IAAT,CAAc;AACVC,UAAAA,EAAE,EAAEF,IADM;AAEVG,UAAAA,KAAK,EAAEL,KAAK,CAACE,IAAD,CAAL,CAAYG,KAFT;AAGVC,UAAAA,IAAI,EAAEN,KAAK,CAACE,IAAD,CAAL,CAAYI;AAHR,SAAd;AAKH;;AACD,WAAKC,QAAL,CAAc;AACVrB,QAAAA,QAAQ,EAAEO;AADA,OAAd;AAGH,KAdD;AAeH;;AAEDe,EAAAA,MAAM,GAAG;AACL;AACI,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKxB,GAAV,CADF,EAEK,KAAKC,KAAL,CAAWC,QAAX,CAAoBuB,GAApB,CAAyBvB,QAAD,IAAc;AAEnC,4BACE,oBAAC,WAAD;AAAa,UAAA,EAAE,EAAEA,QAAQ,CAACkB,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAIH,OANA,CAFL,CADJ;AAYH;AAEJ;;AA7D8B;AAgEjC;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;;;;;;;;AAQA,eAAevB,QAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport './App.css';\r\nimport firebase from './firebase.js'\r\nimport AllArticles from './AllArticles';\r\nimport NewArticle from './NewArticle';\r\nimport UserArticle from './UserArticle';\r\n//import App from './App'\r\n//import Mainpage from './Mainpage'\r\n//import {Link} from 'react-router-dom'\r\n\r\nclass Articles extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.uid = props.uid;\r\n      this.state = {\r\n          postinfo: [],\r\n          uid: '', \r\n          name: ''\r\n      };\r\n      \r\n  };\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n      if (user != null) {\r\n        this.name = user.displayName;\r\n        this.uid = user.uid;\r\n      } else {\r\n        this.name = \"Unknown\";\r\n      }\r\n    });\r\n\r\n      let newState = [];\r\n      const db = firebase.database();\r\n      const postdata = db.ref('posts/5WTiHMxqKwMb6PxXDcyAG66q3Pz2');\r\n\r\n      postdata.on('value', (snapshot) =>\r\n      {\r\n          let posts = snapshot.val();\r\n          for(let post in posts)\r\n          {\r\n              newState.push({\r\n                  id: post,\r\n                  title: posts[post].title,\r\n                  text: posts[post].text\r\n              });\r\n          }\r\n          this.setState({\r\n              postinfo: newState\r\n          });\r\n      });\r\n  };\r\n\r\n  render() {\r\n      {\r\n          return (\r\n              <div>\r\n                <h1>{this.uid}</h1>\r\n                  {this.state.postinfo.map((postinfo) => {\r\n\r\n                      return (\r\n                        <UserArticle id={postinfo.id}/>\r\n                      )\r\n                      \r\n                  })}\r\n              </div>\r\n          );\r\n      }\r\n      \r\n  }\r\n}\r\n\r\n/*class Articles extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n\r\n\r\n  logout() {\r\n    firebase.auth().signOut();\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Articles</h1>\r\n        <button onClick={this.logout}>Logout</button>\r\n        <Singlearticle />\r\n        <NewArticle />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n*/\r\n/*function Articles() {\r\n  return (\r\n    <div>\r\n      <h1>Articles</h1>\r\n    </div>\r\n  );\r\n}*/\r\n\r\nexport default Articles;"]},"metadata":{},"sourceType":"module"}